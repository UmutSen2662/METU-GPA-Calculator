{% extends 'layouts.html' %}
{% block script %}
{% with messages = get_flashed_messages(category_filter=["info"]) %}
{% if messages %}
<script> alert("{{messages[0]}}"); </script>
{% endif %}
{% endwith %}
{% endblock script %}
{% block content %}
<body style="height: 90vh; display: flex; justify-content: center; align-items: center;">
    <div class="secondaryColorDiv">
        <form action="{{ url_for('signin') }}" method="post" style="display: flex; flex-direction: column; gap: 1rem; width: 20rem;">
            <h1 style="margin: 0px auto;">Sign in</h1>
            <input class="formInput" type="email" name="email" id="email" placeholder="Enter email" maxlength="60" required>
            <input class="formInput" type="password" name="password" id="password" placeholder="Enter password" maxlength="60" required>
            <div style="display: flex;">
                <label style="user-select: none;"> <input type="checkbox" name="remember" id="remember" style="color: var(--c1);"> Keep me signed in</label>
                <a href="/recovery_page" style="color: gray; margin-left: auto;">Forgot password?</a>
            </div>
            {% with messages = get_flashed_messages(category_filter=["error"]) %}
            {% if messages %}
            <span style="margin: auto;">{{messages[0]}}</span>
            {% endif %}
            {% endwith %}
            <button class="primaryColorBtn" type="submit" style="margin: 0px; width: 50%; margin: auto;">Sign in</button>
            <span style="margin: auto;">Don't have an account? <a href="/register" style="margin: auto;">Register</a></span>
        </form>
        <hr style="width: 98%; margin: var(--m) auto;">
        <form action="{{url_for('oauth')}}" style="display: flex;">
            <button class="secondaryColorBtn" style="background-color: #fff; color: #000; width: 75%; margin: auto;" type="submit">
                <svg aria-hidden="true" class="native svg-icon iconGoogle" width="18" height="18" viewBox="0 0 18 18"><path fill="#4285F4" d="M16.51 8H8.98v3h4.3c-.18 1-.74 1.48-1.6 2.04v2.01h2.6a7.8 7.8 0 0 0 2.38-5.88c0-.57-.05-.66-.15-1.18Z"></path><path fill="#34A853" d="M8.98 17c2.16 0 3.97-.72 5.3-1.94l-2.6-2a4.8 4.8 0 0 1-7.18-2.54H1.83v2.07A8 8 0 0 0 8.98 17Z"></path><path fill="#FBBC05" d="M4.5 10.52a4.8 4.8 0 0 1 0-3.04V5.41H1.83a8 8 0 0 0 0 7.18l2.67-2.07Z"></path><path fill="#EA4335" d="M8.98 4.18c1.17 0 2.23.4 3.06 1.2l2.3-2.3A8 8 0 0 0 1.83 5.4L4.5 7.49a4.77 4.77 0 0 1 4.48-3.3Z"></path></svg>
                Sign in with Google
            </button>
        </form>
    </div>
</body>
<div class="bottomLinks">
    <a href="{{ url_for('terms_of_service') }}" target="_blank">Terms of Service</a>
    <a href="{{ url_for('privacy_policy') }}" target="_blank">Privacy Policy</a>
</div>
{% endblock content %}
